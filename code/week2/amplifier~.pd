#N canvas 451 23 989 819 10;
#X text 17 50 inlets:;
#X text 19 128 outlets:;
#X text 16 86 trigger. bang \, to start;
#X text 17 104 adsr: list with 4 numbers \, values for ADSR;
#X obj 644 53 unpack 0 0 0 0, f 20;
#X floatatom 644 75 5 0 0 0 - - -;
#X obj 324 27 inlet;
#X text 19 68 audio: audio to be processed;
#X obj 644 32 inlet;
#X floatatom 681 78 5 0 0 0 - - -;
#X floatatom 723 96 5 0 0 0 - - -;
#X floatatom 761 96 5 0 0 0 - - -;
#X obj 325 68 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 322 9 trigger;
#X obj 334 401 line~;
#X text 17 180 ADSR steps when trigger:;
#X text 17 212 go from 0 to S level in D ms;
#X text 18 194 go from 0 to 1 in A ms;
#X text 18 230 stay in S level;
#X obj 792 22 loadbang;
#X obj 792 43 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 810 42 ADSR default values;
#X msg 902 62 1000;
#X text 16 247 go from S level to 0 in R ms;
#X text 345 122 0->1 in A ms;
#X msg 326 197 0 \, 1 \$1;
#X text 336 216 attack ramp;
#X text 472 314 decay ramp;
#X obj 326 122 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 353 155 5 0 0 0 - - -;
#X floatatom 432 270 5 0 0 0 - - -;
#X floatatom 543 267 5 0 0 0 - - -;
#X floatatom 460 221 5 0 0 0 - - -;
#X text 494 222 decay;
#X text 581 265 sustain;
#X obj 326 176 float;
#X obj 432 292 pack 0 0, f 19;
#X obj 433 244 float;
#X obj 435 163 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 434 222 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 457 160 stop;
#X obj 435 202 delay;
#X msg 792 63 2000;
#X msg 829 61 1000;
#X msg 867 62 0.7;
#X msg 662 284 0 \$1;
#X obj 662 260 float;
#X obj 661 232 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 698 283 release ramp;
#X obj 106 605 outlet~;
#X text 21 15 amplifier~.pd;
#X obj 107 318 inlet~;
#X obj 412 464 snapshot~;
#X floatatom 412 485 5 0 0 0 - - -;
#X obj 412 398 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 412 417 metro 100;
#X obj 412 438 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 19 32 amplifier;
#X text 19 145 ADSR amplifiers \, between -1 and 1;
#X floatatom 464 181 5 0 0 0 - - -;
#X msg 432 313 \$2 \$1;
#X obj 325 49 sel 1 0, f 17;
#X obj 374 69 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 687 229 5 0 0 0 - - -;
#X text 723 227 release;
#X text 390 69 begin release;
#X text 326 84 begin attack;
#X text 640 16 ADSR values;
#X obj 165 551 snapshot~;
#X floatatom 165 572 5 0 0 0 - - -;
#X obj 165 485 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 165 504 metro 100;
#X obj 165 525 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 107 487 *~;
#X connect 4 0 5 0;
#X connect 4 1 9 0;
#X connect 4 2 10 0;
#X connect 4 3 11 0;
#X connect 5 0 29 0;
#X connect 5 0 59 0;
#X connect 6 0 61 0;
#X connect 8 0 4 0;
#X connect 9 0 32 0;
#X connect 10 0 31 0;
#X connect 12 0 28 0;
#X connect 14 0 52 0;
#X connect 14 0 73 1;
#X connect 19 0 20 0;
#X connect 20 0 42 0;
#X connect 20 0 43 0;
#X connect 20 0 44 0;
#X connect 20 0 22 0;
#X connect 22 0 11 0;
#X connect 22 0 63 0;
#X connect 25 0 14 0;
#X connect 28 0 35 0;
#X connect 28 0 38 0;
#X connect 29 0 35 1;
#X connect 30 0 36 0;
#X connect 31 0 36 1;
#X connect 32 0 37 1;
#X connect 35 0 25 0;
#X connect 36 0 60 0;
#X connect 37 0 30 0;
#X connect 38 0 41 0;
#X connect 39 0 37 0;
#X connect 40 0 41 0;
#X connect 41 0 39 0;
#X connect 42 0 5 0;
#X connect 43 0 9 0;
#X connect 44 0 10 0;
#X connect 45 0 14 0;
#X connect 46 0 45 0;
#X connect 47 0 46 0;
#X connect 51 0 73 0;
#X connect 52 0 53 0;
#X connect 54 0 55 0;
#X connect 55 0 56 0;
#X connect 56 0 52 0;
#X connect 59 0 41 1;
#X connect 60 0 14 0;
#X connect 61 0 12 0;
#X connect 61 1 62 0;
#X connect 62 0 47 0;
#X connect 62 0 40 0;
#X connect 63 0 46 1;
#X connect 68 0 69 0;
#X connect 70 0 71 0;
#X connect 71 0 72 0;
#X connect 72 0 68 0;
#X connect 73 0 49 0;
#X connect 73 0 68 0;
